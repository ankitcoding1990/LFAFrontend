<section class="section step-section">
  <div class="container-fluid c-fluid">
    <div class="row">
      <div class="col-lg-12 col-md-12 col-sm-12" id="">
        <div class="row">
          <div id="" class=" col-lg-3 col-md-3 nav-horizontal-mobile mb-3 hidepgeqsg">
          <app-quickstartquide></app-quickstartquide>
          </div>
          <div class="col-lg-9 col-md-9">
            <div class="tab-content" id="v-pills-tabContent">
              <div class="tab-pane fade show active cir-main-tab" id="v-pills-basics" role="tabpanel"
                aria-labelledby="v-pills-basics-tab">
                <div class="tabs" >
                    <div class="nav-area" [hidden]="showsubnav" id="navarea">
                      <div class="arrow-div1" id="slideBack">
                        <i class="fa fa-chevron-left"></i>
                      </div>
                      <ul class="cir-tab nav nav-pills mb-3" id="pills-tab" role="tablist">
                        <li class="nav-item">
                              <a class="nav-link " id="v-pills-basic-tab"  [routerLink]="['/complete-profile']" data-toggle="pill" href="#tabs-1" role="tab"
                          aria-controls="v-pills-basic" aria-selected="true" >Profile</a>
                        </li>
                        <li class="nav-item">
                          <a class="nav-link" id="v-pills-legal-tab" data-toggle="pill" [routerLink]="['/qsg-legal-details']"  role="tab"
                          aria-controls="v-pills-legal" aria-selected="false" >Legal Details</a>
                        </li>
                        <li class="nav-item">
                          <a class="nav-link active" id="v-pills-family-tab" data-toggle="pill" [routerLink]="['/qsg-family-details']" role="tab"
                          aria-controls="v-pills-family" aria-selected="false" >Family Details</a>
                        </li>
                        <li class="nav-item">
                          <a class="nav-link" id="v-pills-income-tab" data-toggle="pill" [routerLink]="['/qsg-incomeprofession-details']" role="tab"
                         aria-controls="v-pills-income" aria-selected="false" >Profession & Income </a>
                        </li>
                        <li class="nav-item">
                         <a class="nav-link" id="v-pills-pets-tab" data-toggle="pill" [routerLink]="['/qsg-pets-details']" role="tab"
                          aria-controls="v-pills-pets" aria-selected="false" >Pets</a>
                        </li>
                        <li class="nav-item">
                          <a class="nav-link" id="v-pills-interest-tab" data-toggle="pill" [routerLink]="['/qsg-interests-details']" role="tab"
                         aria-controls="v-pills-interest" aria-selected="false" >Interests</a>
                        </li>
                         <li class="nav-item">
                              <a class="nav-link" id="v-pills-other-tab" data-toggle="pill" [routerLink]="['/qsg-otherinterests-details']" role="tab"
                           aria-controls="v-pills-other" aria-selected="false">Other Legal Interests</a>
                        </li>
                         <li class="nav-item">
                          <a class="nav-link" id="v-pills-summary-tab" data-toggle="pill" [routerLink]="['/qsg-profilesummary-details']" role="tab"
                            aria-controls="v-pills-other" aria-selected="false" >Profile Summary</a>
                        </li>
                         <!--li class="nav-item">
                        <a class="nav-link" id="v-pills-docstorage-tab" data-toggle="pill" href="#tabs-9" role="tab"
                              aria-controls="v-pills-docstorage" aria-selected="false">Document Storage</a>
                        </li--> 
                      </ul>
                      <div class="arrow-div" id="slide1">
                        <i class="fa fa-chevron-right"></i>
                      </div>
                    </div>
                    <div class="tab-content" id="pills-tabContent">
                     <div class="tab-pane fade show active" id="tabs-1" role="tabpanel"
                aria-labelledby="v-pills-basic-tab">
                <div class="">
<div class="row">
<div class="col-md-12">
<h4 class="main-heading">Family Members Details</h4>
<p class="main-sub-para">Save your emergency contacts, children, family members or even just close friends. Access their contact information and birthdays at a glance.
</p>
</div>
</div>
<div>

<table id="dtBasicExample"
class="table table-responsive table-striped table-bordered table-sm text-center">
<thead>
<tr>
<th class="th-sm">Action
</th>
<th class="th-sm">First Name
</th>
<th class="th-sm">Last Name
</th>
<th class="th-sm">Relationship
</th>
<th class="th-sm">Email
</th>
<th class="th-sm">phone
</th>
<th class="th-sm">Date of Birth
</th>
<th class="th-sm">Notes
</th>
<th class="th-sm">Emergency Contact
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="show_handlink"><i [ngClass]="disable_btn_family ? 'success' : 'family_enable'" class="fa fa-edit prevbaiscform"></i> &nbsp;&nbsp;
<span><i>&nbsp;&nbsp;&nbsp;</i></span>
</td>
<td>{{ this.userdetails?.result?.name }}</td>
<td>{{ this.userdetails?.result?.lastname }}</td>
<td>Self</td>

<td>{{this.userdetails?.result?.email}}</td>
<td>{{this.userdetails?.result?.phonenumber}}</td>
<td>{{ this.userdetails?.result?.dob }}</td>
<td></td>
<td></td>
</tr>
<tr *ngFor="let family of getuserfamilydetails.data;">
<td class="show_handlink"><i [ngClass]="disable_btn_family ? 'success' : 'family_enable'" (click)="editfamilymember(family.id)"
class="fa fa-edit otherfamiyrelation"></i> &nbsp;&nbsp;
<span [ngClass]="disable_btn_family ? 'success' : 'family_enable'" (click)="deletefamilymember(family.id)"><i class="fa fa-trash"></i></span>
</td>
<td>{{ family.member_name }} </td>
<td>{{ family.member_last_name }} </td>
<td>{{family.relation}} </td>
<td>{{family.member_email}} </td>
<td>{{family.phonenumber}} </td>
<td>{{family.age}} <span class="text-danger">{{family.star }}</span> </td>
<td class="show_handlink" *ngIf="family.notes && family?.notes?.length > 0 else content"
(click)="editfamilymember(family.id)">View Notes </td>
<ng-template #content> N/A </ng-template>
<td><i class="fa fa-check" *ngIf="family.emergency_contact_status===1"></i> </td>
</tr>
</tbody>
</table>

<p [hidden]="!age_msg_indiate" class="text-danger">* Indicates an estimated age</p>
<p>
</p>
</div>
<form [formGroup]="updatefamilyForm" (ngSubmit)="updatefamilymember()">
<div [hidden]="!editfamilyform">
<div class="row">

<input type="hidden" formControlName="user_id" value="" name="user_id">
<input type="hidden" formControlName="id" value="" name="id">
<div class="col-lg-6 col-md-6 col-sm-6">
<div class="form-group">
<label>First Name</label>
<input type="text" class="step-input" name="member_name" formControlName="member_name"
placeholder="First Name" />
<span class="text-danger"
*ngIf="(updatefamilyFormControl.member_name.touched || updatefamilyForm_submitted) && updatefamilyFormControl.member_name.errors?.required">
Name is required
</span>


</div>
</div>
<div class="col-lg-6 col-md-6 col-sm-6">
<div class="form-group">
<label>Last Name</label>
<input type="text" class="step-input" name="lastname" formControlName="lastname"
placeholder="Last Name" />

</div>
</div>
</div>
<div class="row">
<div class="col-lg-6 col-md-6 col-sm-6">
<div class="form-group">
<label>Relationship</label>
<select class="step-input getothetrealtion" formControlName="relation">
<option value="0">Select Relationship</option>
<option value="Spouse / Partner">Spouse / Partner</option>
<option value="Father">Father</option>
<option value="Mother">Mother</option>
<option value="Sibling">Sibling</option>
<option value="Child">Child</option>
<option value="Step Child">Step Child</option>
<option value="other">Other</option>
</select>
<input type="text" class="step-input showotherrelationfield" name="otherrelation"
formControlName="otherrelation" placeholder="Other" style="display:none;" />
<span><input type="checkbox" class="emgency_member_contact"
formControlName="emergency_member"> Add as Emergency Contact?</span>
</div>
</div>
<div class="col-lg-6 col-md-6 col-sm-6">
<div class="form-group">
<label>Phone</label>
<input type="text" class="step-input" name="phone" formControlName="phone"
mask="(000) 000-0000" placeholder="(XXX)-XXX-XXXX" />
</div>
</div>
</div>
<div class="row">
<div class="col-lg-6 col-md-6 col-sm-6">
<div class="form-group">
<label>Email</label>
<input type="email" email="true" class="step-input" name="member_email"
formControlName="member_email" placeholder="example@gmail.com" />
</div>
</div>
<div class="col-lg-6 col-md-6 col-sm-6">
<div class="form-group">
<span [hidden]="!edit_family_dob_field">
<label>Date of Birth</label>
<input type="text" class="step-input family_age_dob dob_slashes" maxlength="10"
formControlName="age" placeholder="mm/dd/yyyy" name="age" />
<span class="text-danger dob_error_msg"
*ngIf="(updatefamilyFormControl.age.touched || updatefamilyForm_submitted) && (updatefamilyFormControl.age.errors && updatefamilyFormControl.age.errors.dobProfileError)">
Valid date of birth required
</span>
</span>
<span [hidden]="!age_input">
<label>Estimated Age</label>
<select formControlName="age_number" class="step-input" name="age_number">
<option value="" disabled>Select Age</option>
<option *ngFor='let in of counter(100) ;let i = index' value="{{i+1}}">{{i+1}} Years Old
</option>
<option value="100+">100+ Years Old</option>
</select>
</span>
</div>
</div>
</div>
<div class="row">
<div class="col-lg-6 col-md-6 col-sm-6">
</div>
<div class="col-lg-6 col-md-6 col-sm-6">
<span><input type="checkbox" class="checkSurfaceEnvironment-2"
(change)="onChangeage_edit_family($event)">
Don't know exact birthdate or age?</span>
<p class="age_old_text" style="display:none;">Enter an estimated age:</p>
</div>
</div>
<div class="row">
<div class="col-lg-6 col-md-6">
<div class="form-group">
<label>Gender</label>
<select class="step-input" formControlName="gender" (change)="get_gender_value($event)">
<option value="" disabled selected>Select Gender</option>
<option *ngFor="let gender of genderlist" [value]="gender.name">{{gender.name}}
</option>
</select>
</div>
</div>
<div class="col-lg-6 col-md-6" [hidden]="!gender_pronoun_field">
<div class="form-group">
<label>Define Pronoun?</label>
<input type="text" class="step-input" formControlName="gender_pronoun"
placeholder="Pronoun" />
</div>
</div>
</div>
<div class="row">
<div class="col-lg-12 col-md-12 col-sm-12">
<button type="button" [hidden]="!show_notes_button" (click)="show_notes_textarea()"
class="btn btn-primary mb-2">Add Notes</button>
<div class="form-group" [hidden]="!show_notes_field">
<label>Notes</label>
<textarea formControlName="notes" name="notes" rows="4" cols="50"
style="width:100%"></textarea>
</div>
</div>
</div>
<div class="row">
<div class="col-lg-12 col-md-12 col-sm-12">
<table id="dtBasicExample"
class="table table-responsive table-striped table-bordered table-sm table-bottom">
<thead>
<tr>
<th class="th-sm">Notes
</th>
<th class="th-sm">Timestamp
</th>
</tr>
</thead>
<tbody *ngIf="notes_details && notes_details?.length > 0">
<tr *ngFor="let family_notes of notes_details; let i = index;">
<td>{{ family_notes.notes }} </td>
<td>{{family_notes.created_at | date:'MM/dd/YYYY hh:mm a'}} </td>
</tr>
</tbody>
</table>
</div>
</div>
<button type="submit" class="btn btn-primary mb-2">Save</button>
<button type="reset" (click)="hidefamilyform()" class="btn btn-primary mb-2">Cancel</button>
</div>
</form>
<form #addressForm="ngForm" class="mt-3 famil-form"
(ngSubmit)="addressForm.form.valid && userfamilydetails(addressForm)">
<div class="row justify-content-center">
<div class="col-lg-12">
<span [hidden]="!buttonaddfmaily">
<button [hidden]="showfirstfamilyform" [ngClass]="disable_btn_family ? 'success' : 'family_enable'" type="reset" class="btn btn-primary mb-2"
(click)="showfirstfamily()">Add Family Member</button>
</span>
<div [hidden]="!showfamilyaddform">
<section class="my-2" *ngFor="let address of addresses; let i = index;">
<div class="row">
<div class="col-lg-6 col-md-6 col-sm-6 mb-2">
  <h5>Add New Family Member</h5>
</div>
<div class="col-lg-6 col-md-6 col-sm-6 mb-2 rmv text-right">
</div>
</div>
<div class="row">
<div class="col-lg-6 col-md-6 col-sm-6">
<div class="form-group">
<label>First Name <span class="text-danger"> *</span></label>
<input type="text" #name="ngModel" class="step-input" [(ngModel)]="address.name"
name="name_{{address.id}}" placeholder="First Name" required>
<span class="text-danger" *ngIf="(addressForm.submitted) && name.errors?.required">
First name is required
</span>
</div>
</div>
<div class="col-lg-6 col-md-6 col-sm-6">
<div class="form-group">
<label>Last Name</label>
<input type="text" #lastname="ngModel" class="step-input" [(ngModel)]="address.lastname" name="lastname_{{address.id}}" placeholder="Last Name">
</div>
</div>
</div>
<div class="row">
<div class="col-lg-6 col-md-6 col-sm-6">
<div class="form-group">
<label>Relationship<span class="text-danger"> *</span></label>
<select #relation="ngModel" class="step-input getothetrealtion"
[(ngModel)]="address.relation" name="relation_{{address.id}}" required>
<option value="0">Select Relationship</option>
<option value="Spouse / Partner">Spouse / Partner</option>
<option value="Father">Father</option>
<option value="Mother">Mother</option>
<option value="Sibling">Sibling</option>
<option value="Child">Child</option>
<option value="Step Child">Step Child</option>
<option value="other">Other</option>
</select>
<input type="text" class="step-input showotherrelationfield"
[(ngModel)]="address.otherrelation" name="otherrelation_{{address.id}}"
placeholder="Other" style="display:none;" />
<span class="text-danger"
*ngIf="(addressForm.submitted) && relation.errors?.required">
Relationship is required
</span>
</div>
</div>
<div class="col-lg-6 col-md-6 col-sm-6">
  <div class="form-group">
  <label>Phone</label>
  <input type="text" #phone="ngModel" class="step-input" [(ngModel)]="address.phone"
  name="phone_{{address.id}}" placeholder="(XXX) XXX-XXXX" mask="(000) 000-0000"
  pattern="^((\\+1-?)|0)?[0-9]{10}$">
  <span class="text-danger"
  *ngIf="(phone.touched || addressForm.submitted) && phone.errors?.required || phone.errors?.pattern">
  Phone is not valid
  </span>
  </div>
  </div>
</div>
<div class="row">
  <div class="col-lg-12 col-md-12 col-sm-12">
    <div class="form-group">
      <label class="check-label"><input type="checkbox" value="1" [(ngModel)]="address.emergency_member"
        name="emergency_member_{{address.id}}"> Add as Emergency Contact?</label>
    </div>
  </div>
</div>
<div class="row">
<div class="col-lg-6 col-md-6 col-sm-6">
<div class="form-group">
<label>Email</label>
<input type="email" email="true" #email="ngModel" class="step-input"
[(ngModel)]="address.email" name="email_{{address.id}}"
placeholder="example@gmail.com"
pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$">
<span class="text-danger"
*ngIf="(email.touched || addressForm.submitted) && email.errors?.required || email.errors?.pattern">
Email is not valid
</span>
</div>
</div>
<div class="col-lg-6 col-md-6 col-sm-6">
<div class="form-group">
<span [hidden]="!add_family_dob_field">
<label>Date of Birth</label>
<input type="text" #family_dob="ngModel"
class="step-input family_age_dob dob_slashes" [(ngModel)]="address.age"
name="age_{{address.id}}" placeholder="mm/dd/yyyy" id="family_dob"
appDobValidator>
<span class="text-danger"
*ngIf="(family_dob.touched || addressForm.submitted) && family_dob.errors?.dobProfileError">
Valid date of birth required
</span>
</span>
<span [hidden]="!age_input">
<label>Estimated Age</label>
<select [hidden]="!age_input" class="step-input age_input"
[(ngModel)]="address.age_number" name="age_number_{{address.id}}">
<option value="" disabled>Select Age</option>
<option *ngFor='let in of counter(100) ;let i = index' value="{{i+1}}">{{i+1}}
Years Old</option>
<option value="100+">100+ Years Old</option>
</select>
</span>
</div>
</div>
</div>
<div class="row">
<div class="col-lg-6 col-md-6 col-sm-6">&nbsp;</div>
<div class="col-lg-6 col-md-6 col-sm-6">
  <div class="form-group">
    <label class="check-label"><input type="checkbox" class="checkSurfaceEnvironment-2" (change)="onChangeage($event,addressForm)"> Don't know exact birthdate or age?</label>
    <p class="age_old_text" style="display:none;">Enter an estimated age:</p>
  </div>
</div>
</div>
<div class="row">
<div class="col-lg-6 col-md-6">
<div class="form-group">
<label>Gender</label>
<select class="step-input" [(ngModel)]="address.gender" name="gender_{{address.id}}"
(change)="get_gender_value($event)">
<option value="" disabled selected>Select Gender</option>
<option *ngFor="let gender of genderlist" [value]="gender.name">{{gender.name}}
</option>
</select>
</div>
</div>
<div class="col-lg-6 col-md-6" [hidden]="!gender_pronoun_field">
<div class="form-group">
<label>Define Pronoun?</label>
<input type="text" class="step-input" [(ngModel)]="address.gender_pronoun"
name="gender_pronoun_{{address.id}}" placeholder="Pronoun" />

</div>
</div>
</div>
<div class="row">
<div class="col-lg-12 col-md-12 col-sm-12">
<div class="form-group">
<label for="notes">Notes</label>

<textarea #notes="ngModel" [(ngModel)]="address.notes" name="notes" rows="4"
cols="50"></textarea>

</div>
</div>
</div>


</section>
</div>
<span [hidden]="!familyhidesaveprenext">
<div [hidden]="savebutton_family" class="update-button d-flex1 res-justify-content-center mt-4">
<button class="btn pull-left mr-3">Save</button>
<button type="reset" class="btn btn-danger  pull-left mr-3"
(click)="removeAddresss()">Cancel</button>

</div>
<div [hidden]="!savebutton_family" class="update-button d-flex1 res-justify-content-center mt-4">
<button [hidden]="!save_btn_family" type="button" class="btn pull-left mr-3 family_btn" (click)="toggle_save_edit($event)" value="family_save">Save</button>
<button  [hidden]="save_btn_family" type="button" class="btn pull-left mr-3 family_btn" (click)="toggle_save_edit($event)" value="family_edit">Edit</button>
</div>
<div [hidden]="!prevnetbutton" class="update-button d-flex1 res-justify-content-center mt-4 pull-right">


<button type="button" (click)="PrevTab()" class="btn prevlegalform mr-2 mb-2 btnactive"> Prev</button>


<button class="btn previncomeform mr-2 mb-2 btnactive" (click)="NextTab()">Next</button>
</div>
</span>
</div>
</div>

</form>



</div>
              </div>
                      
                    </div>
                </div>
              </div>
            </div>
          </div>
          <!-- col 3 add here -->
        </div>
      </div>
    </div>
  
  </div>
</section>